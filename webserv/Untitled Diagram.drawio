<mxfile host="app.diagrams.net" modified="2021-05-15T06:48:30.604Z" agent="5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36" etag="M5d5hk3Y59T2GLZoHxLB" version="14.6.10" type="github">
  <diagram id="ksg2bCNkmtWttex-SocE" name="Page-1">
    <mxGraphModel dx="946" dy="614" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1654" pageHeight="2336" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="yp7RpvEsYhKyFqzNIah3-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="yp7RpvEsYhKyFqzNIah3-3" target="yp7RpvEsYhKyFqzNIah3-5" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="160" y="80" />
              <mxPoint x="160" y="140" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="yp7RpvEsYhKyFqzNIah3-3" target="yp7RpvEsYhKyFqzNIah3-9" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="160" y="80" />
              <mxPoint x="160" y="400" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-3" value="&lt;b&gt;main1&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="40" y="40" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="yp7RpvEsYhKyFqzNIah3-5" target="yp7RpvEsYhKyFqzNIah3-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-5" value="&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;void Config::parse(char *file, std::vector&amp;lt;Server&amp;gt; &amp;amp;servers)&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;1) main의 인자로 들어온 .conf file(char *)을 읽음&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;font face=&quot;helvetica neue&quot;&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 13px&quot;&gt;2) .conf의 server{} 블록 1개씩 파싱하여 Config에 저장&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 13px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 13px&quot;&gt;3-1) listen중인 포트번호가 같은 Server가 있으면, 방금 파싱된 Config를 해당 Server의 Config 벡터에 추가&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 13px&quot;&gt;3-2) listen중인 포트번호가 같은 Server가 없으면, 새로운 Server를 만들고, 방금 파싱된 Config를&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 13px&quot;&gt;새로운 Server의 Config 벡터에 추가하고,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 13px&quot;&gt;새로운 서버는 Server 벡터에 추가&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 13px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 13px&quot;&gt;&lt;b&gt;=&amp;gt; .conf를 파싱하여 Server 벡터에 저장&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="200" y="40" width="600" height="200" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-6" value="&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;void Config::getContent(std::string &amp;amp;buffer, std::string &amp;amp;context, std::string prec, size_t &amp;amp;nb_line, config &amp;amp;config)&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;=&amp;gt; .conf의 server{} 블록 1개를 Config에 파싱하여 저장&lt;/b&gt;&lt;/p&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="880" y="40" width="720" height="80" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="yp7RpvEsYhKyFqzNIah3-5" target="yp7RpvEsYhKyFqzNIah3-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="yp7RpvEsYhKyFqzNIah3-9" target="yp7RpvEsYhKyFqzNIah3-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-9" value="&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;void Config::init(fd_set *rSet, fd_set *wSet, fd_set *readSet, fd_set *writeSet, struct timeval *timeout)&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;1) select 함수에 사용될 fd_set 구조체 4개 초기화 (client 입장에서 read할)&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;1-1) rSet : client가 read할 모든 fd 정보를 가지고 있는 fd_set&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;1-2) wSet : clinet가 write할 모든 fd 정보를 가지고 있는 fd_set&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;1-3) readSet : rSet으로 초기화 된후 select 함수에서 사용되는 fd_set&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;1-4) writeSet : wSet으로 초기화 된후 select 함수에서 사용되는 fd_set&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;=&amp;gt; 모든 서버의 초기 설정&lt;/b&gt;&lt;/p&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="197" y="280" width="643" height="160" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-10" value="&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; line-height: normal&quot;&gt;&lt;font face=&quot;helvetica neue&quot;&gt;&lt;span style=&quot;font-size: 13px&quot;&gt;&lt;b&gt;void&lt;span&gt;	&lt;/span&gt;Server::init(fd_set *rSet, fd_set *wSet)&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;1) fd_set 구조체 2개 정보를 서버에 저장&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;2)&amp;nbsp;IPv4 프로토콜, TCP 전송 방식의 서버 생성&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;3) 서버가 time wait 상태에서도 포트 번호를 재사용 할 수 있도록 설정&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;4) 서버에 IP주소와 포트번호 할당&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;5) 서버를 클라이언트가 연결요청을 할 수 있는 상태로 만듬&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;6) 서버를 non-blocking 모드로 설정&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;=&amp;gt; 1개의 서버 초기 설정&lt;/b&gt;&lt;/p&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="920" y="280" width="400" height="160" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-11" value="&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;int&lt;span class=&quot;Apple-tab-span&quot;&gt; &lt;/span&gt;select(int n, fd_set *readfds, fd_set *writefds, fd_set *exceptset, struct timeval *timeout);&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;1) fd정보들을 가지고 있는 fd_set들을 감시&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;2) 확인할 fd_set의 fd의 변화가 생길때까지 대기&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;3) 변화가 생기면 변화가 생긴 fd만 set이 되어 fd_set에 저장 되어짐&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;=&amp;gt; 모든 서버의 fd 변화를 감시&lt;/b&gt;&lt;/p&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="200" y="480" width="600" height="120" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="yp7RpvEsYhKyFqzNIah3-17" target="yp7RpvEsYhKyFqzNIah3-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="yp7RpvEsYhKyFqzNIah3-17" target="yp7RpvEsYhKyFqzNIah3-19" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="yp7RpvEsYhKyFqzNIah3-17" target="yp7RpvEsYhKyFqzNIah3-20" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="160" y="530" />
              <mxPoint x="160" y="840" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="yp7RpvEsYhKyFqzNIah3-17" target="yp7RpvEsYhKyFqzNIah3-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="yp7RpvEsYhKyFqzNIah3-17" target="yp7RpvEsYhKyFqzNIah3-35" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-17" value="&lt;b&gt;main2&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="40" y="490" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-18" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="yp7RpvEsYhKyFqzNIah3-19" target="yp7RpvEsYhKyFqzNIah3-21" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-19" value="&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;void Server::refuseConnection()&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;1) 연결 요청이 들어온 클라이언트와 서버를 연결&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;2) 연결된 클라이언트 fd를 503큐에 넣음&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;=&amp;gt; 이미 사용중인 fd가 너무 많으면, 연결된 클라이언트를 503큐 에 넣음&lt;/b&gt;&lt;/p&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="200" y="640" width="400" height="120" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-20" value="&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;void Server::acceptConnection()&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;1) 연결 요청이 들어온 클라이언트와 서버를 연결&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;2) 연결된 클라이언트에 대한 객체를 생성하고 그 객체를 해당 서버의 클라이언트 벡터에 넣음&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;=&amp;gt; 클라이언트와 서버의 연결&lt;/b&gt;&lt;/p&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="197" y="800" width="483" height="120" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-21" value="&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;void Server::send503(int fd)&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;span&gt;1) 503 메시지 작성&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;span&gt;2) 서버가 클라이언트에게 503 메시지 전송&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;span&gt;3) 서버와 클라이언트와의 연결 종료&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;=&amp;gt; 503큐 맨앞에 있는 클라이언트에게 503 페이지 보여줌&lt;/b&gt;&lt;/p&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="680" y="640" width="320" height="120" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-22" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="yp7RpvEsYhKyFqzNIah3-24" target="yp7RpvEsYhKyFqzNIah3-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="yp7RpvEsYhKyFqzNIah3-24" target="yp7RpvEsYhKyFqzNIah3-30" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-24" value="&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;int Server::readRequest(std::vector&amp;lt;Client*&amp;gt;::iterator it)&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;1) 클라이언트가 보낸 request 읽기&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;2-1) request의 strtline, header 파싱&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;2-2) request의 메소드가 POST 또는 PUT이면 body도 파싱&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;=&amp;gt; POST 또는 PUT이 아니면 header를 모두 읽어야 response를 만들수 있는 상태로 넘어감&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal&quot;&gt;&lt;b style=&quot;font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;=&amp;gt; POST 또는 PUT 일때 body&lt;/b&gt;&lt;span class=&quot;s1&quot; style=&quot;font-family: &amp;#34;apple sd gothic neo&amp;#34; ; font-stretch: normal ; line-height: normal&quot;&gt;&lt;b&gt;를&lt;/b&gt;&lt;/span&gt;&lt;b&gt;&lt;font face=&quot;Helvetica Neue&quot;&gt;&amp;nbsp;&lt;/font&gt;&lt;font face=&quot;Apple SD Gothic Neo&quot;&gt;모두 읽어야&lt;/font&gt;&lt;/b&gt;&lt;b style=&quot;font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&amp;nbsp;response&lt;/b&gt;&lt;span class=&quot;s1&quot; style=&quot;font-family: &amp;#34;apple sd gothic neo&amp;#34; ; font-stretch: normal ; line-height: normal&quot;&gt;&lt;b&gt;를&lt;/b&gt;&lt;/span&gt;&lt;b style=&quot;font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt; &lt;/b&gt;&lt;span class=&quot;s1&quot; style=&quot;font-family: &amp;#34;apple sd gothic neo&amp;#34; ; font-stretch: normal ; line-height: normal&quot;&gt;&lt;b&gt;만들수&lt;/b&gt;&lt;/span&gt;&lt;b style=&quot;font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt; &lt;/b&gt;&lt;span class=&quot;s1&quot; style=&quot;font-family: &amp;#34;apple sd gothic neo&amp;#34; ; font-stretch: normal ; line-height: normal&quot;&gt;&lt;b&gt;있는&lt;/b&gt;&lt;/span&gt;&lt;b style=&quot;font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt; &lt;/b&gt;&lt;span class=&quot;s1&quot; style=&quot;font-family: &amp;#34;apple sd gothic neo&amp;#34; ; font-stretch: normal ; line-height: normal&quot;&gt;&lt;b&gt;상태로&lt;/b&gt;&lt;/span&gt;&lt;b style=&quot;font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt; &lt;/b&gt;&lt;span class=&quot;s1&quot; style=&quot;font-family: &amp;#34;apple sd gothic neo&amp;#34; ; font-stretch: normal ; line-height: normal&quot;&gt;&lt;b&gt;넘어감&lt;/b&gt;&lt;/span&gt;&lt;/p&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="197" y="960" width="523" height="160" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-25" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="yp7RpvEsYhKyFqzNIah3-26" target="yp7RpvEsYhKyFqzNIah3-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-26" value="&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;void Parser::parseRequest(Client &amp;amp;client, std::vector&amp;lt;config&amp;gt; &amp;amp;conf)&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;1) request의 startline, header 파싱&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;2) 서버의 conf 벡터를 바탕으로 클라이언트 conf 구하기&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;3-1) request의 메소드가 POST 또는 PUT 이면 클라이언트는 body 파싱을 해야함&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;3-2) request의 메소드가 POST 또는 PUT이 아니면 클라이언트는 body 파싱을 안함&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;=&amp;gt; request의 startline, header 파싱(body 이전까지)&lt;/b&gt;&lt;/p&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="800" y="960" width="480" height="160" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-27" value="&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;void Parser::getClientConf(Client &amp;amp;client, Request &amp;amp;req, std::vector&amp;lt;config&amp;gt; &amp;amp;conf)&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;1) 서버의 conf 벡터에서 클라이언트의 conf에 파싱될 conf를 선택&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;1-1) request에 명시된 Host 헤더와 같은&amp;nbsp; server_name이 존재하면 해당 conf를 선택&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;1-1) request에 명시된 Host 헤더와 같은 server_name이 존재하지 않으면 제일 먼저 파싱된 conf를 선택&amp;nbsp;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;2) 선택한 서버의 conf를 바탕으로 클라이언트 conf에 데이터 저장&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;=&amp;gt; 서버의 conf 벡터를 바탕으로 클라이언트 conf 구하기&lt;/b&gt;&lt;/p&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="1360" y="960" width="557" height="160" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-28" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="yp7RpvEsYhKyFqzNIah3-30" target="yp7RpvEsYhKyFqzNIah3-31" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="yp7RpvEsYhKyFqzNIah3-30" target="yp7RpvEsYhKyFqzNIah3-32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-30" value="&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;void Parser::parseBody(Client &amp;amp;client)&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;span&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;span style=&quot;text-align: center&quot;&gt;- readRequest에서 호출&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;span style=&quot;text-align: center&quot;&gt;1-1) &lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;Content-Length -&amp;gt; body 전체를 파싱&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;span style=&quot;font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;1-2) &lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;Transfer-Encoding: chunked -&amp;gt; body의 chunk의 크기를 파싱&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;span style=&quot;text-align: center&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;-&amp;nbsp;&lt;span style=&quot;font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;POSTMethod&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt; 또는&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;PUTMethod&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;text-align: center&quot;&gt;에서 호출&amp;nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;span style=&quot;text-align: center&quot;&gt;1-1) Content-Length -&amp;gt; 아무 행동도 안함&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;span style=&quot;text-align: center&quot;&gt;1-2) &lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;Transfer-Encoding: chunked -&amp;gt; body의 chunk의 내용을 파싱&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;span style=&quot;font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;=&amp;gt; request의 header에 따라 다르게 body를 파싱&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b style=&quot;text-align: left&quot;&gt;=&amp;gt; body를 끝까지 다읽어야 response를 만들수 있는 상태로 넘어감&lt;/b&gt;&lt;/p&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="800" y="1160" width="400" height="240" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-31" value="&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;void Parser::getBody(Client &amp;amp;client)&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;- readRequest에서 호출&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;1) request의 body 전체 파싱&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;- writeResponse에서 호출&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;1)아무 행동도 안함&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;=&amp;gt;&amp;nbsp;&lt;span style=&quot;font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;apple sd gothic neo&amp;#34;&quot;&gt;의&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt; header&lt;/span&gt;&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;apple sd gothic neo&amp;#34;&quot;&gt;에&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&amp;nbsp;Content-Length가 있을때 호출됨&lt;/span&gt;&lt;/b&gt;&lt;/p&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="1280" y="1160" width="361.5" height="160" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-32" value="&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;void Parser::dechunkBody(Client &amp;amp;client)&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;- readRequest에서 호출된 경우&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;1)&amp;nbsp;&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;16&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;apple sd gothic neo&amp;#34;&quot;&gt;진수로&lt;/span&gt;&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;apple sd gothic neo&amp;#34;&quot;&gt;표현된&lt;/span&gt;&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt; chunk&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;apple sd gothic neo&amp;#34;&quot;&gt;의&lt;/span&gt;&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;apple sd gothic neo&amp;#34;&quot;&gt;크기를&lt;/span&gt;&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt; 10&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;apple sd gothic neo&amp;#34;&quot;&gt;진수로&lt;/span&gt;&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;apple sd gothic neo&amp;#34;&quot;&gt;변환해서&lt;/span&gt;&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;apple sd gothic neo&amp;#34;&quot;&gt;구함&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;- writeResponse에서 호출된 경우&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;1) chunk의 내용 파싱&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;&lt;span&gt;=&amp;gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;apple sd gothic neo&amp;#34;&quot;&gt;의&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt; header&lt;/span&gt;&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;apple sd gothic neo&amp;#34;&quot;&gt;에&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&amp;nbsp;Transfer-Encoding: chunked가 있을때 호출됨&lt;/span&gt;&lt;/b&gt;&lt;/p&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="1280" y="1360" width="441.5" height="160" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="yp7RpvEsYhKyFqzNIah3-30" target="yp7RpvEsYhKyFqzNIah3-30" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-34" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="yp7RpvEsYhKyFqzNIah3-35" target="yp7RpvEsYhKyFqzNIah3-42" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-35" value="&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;int Server::writeResponse(std::vector&amp;lt;Client*&amp;gt;::iterator it)&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;1) 메소드에 따라 다른방식으로 response 만들기&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;2) response를 보낼 준비가 되면 클라이언트에게 response 보내기&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;=&amp;gt; request를 바탕으로 response를 만들고 클라이언트에게 보내기&lt;/b&gt;&lt;/p&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="200" y="1560" width="360" height="120" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="yp7RpvEsYhKyFqzNIah3-37" target="yp7RpvEsYhKyFqzNIah3-38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-37" value="&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;void Dispatcher::getErrorPage(Client &amp;amp;client)&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;span style=&quot;text-align: left&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;span&gt;&lt;b&gt;=&amp;gt; 서버에 있는 에러파일을 클라이언트의 read_fd로 열기&lt;/b&gt;&lt;/span&gt;&lt;/p&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="1600" y="1560" width="320" height="80" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-38" value="&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;void Client::readFile()&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;=&amp;gt; read_fd로 열어둔 파일을 읽고 response body에 추가&lt;/b&gt;&lt;/p&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="2000" y="1560" width="320" height="80" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="yp7RpvEsYhKyFqzNIah3-42" target="yp7RpvEsYhKyFqzNIah3-47" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1600" y="1900" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="yp7RpvEsYhKyFqzNIah3-42" target="yp7RpvEsYhKyFqzNIah3-44" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-41" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" parent="1" source="yp7RpvEsYhKyFqzNIah3-42" target="yp7RpvEsYhKyFqzNIah3-30" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-42" value="&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;void Dispatcher::[메소드이름]Method(Client &amp;amp;client)&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;1) POST 또는 PUT 일때&amp;nbsp;&lt;span&gt;아직 body 파싱을 다하지 못했다면 body 파싱&lt;/span&gt;&lt;/p&gt;&lt;div&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;2) status code 파싱&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;3) header 파싱&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;4) 파싱한 데이터로 response 만들기&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;=&amp;gt; response 만들기&lt;/b&gt;&lt;/p&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="640" y="1560" width="400" height="160" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="yp7RpvEsYhKyFqzNIah3-44" target="yp7RpvEsYhKyFqzNIah3-37" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-44" value="&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;int Dispatcher::setStatusCode(Client &amp;amp;client)&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;1) status code 설정&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;=&amp;gt; status code가 OK가 아니거나 접속할 페이지가 존재하지 않으면&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;read_fd로 서버에 있는 에러파일을 열어둠&lt;/b&gt;&lt;/p&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="1120" y="1560" width="400" height="120" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-45" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="yp7RpvEsYhKyFqzNIah3-47" target="yp7RpvEsYhKyFqzNIah3-38" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1960" y="1780" />
              <mxPoint x="1960" y="1600" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="yp7RpvEsYhKyFqzNIah3-47" target="yp7RpvEsYhKyFqzNIah3-48" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1960" y="1780" />
              <mxPoint x="1960" y="1720" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-47" value="&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;int Dispatcher::[메소드이름]Status(Client &amp;amp;client)&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;1) read_fd로 요청한 파일 열기&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;2-1) POST 이면 write_fd로 요청한 파일을 붙여쓰기로 열기&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;2-2) PUT 이면 write_fd로 요청한 파일을 덮어쓰기로 열기&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;text-align: left ; margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;=&amp;gt; 클라이언트가 서버에 요청한 파일 열기&lt;/b&gt;&lt;/p&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="1120" y="1720" width="320" height="120" as="geometry" />
        </mxCell>
        <mxCell id="yp7RpvEsYhKyFqzNIah3-48" value="&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;b&gt;void Client::writeFile()&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;span&gt;&lt;b&gt;=&amp;gt; 열어둔 파일에 request의 body를 쓰기&lt;/b&gt;&lt;/span&gt;&lt;/p&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="2000" y="1680" width="240" height="80" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
