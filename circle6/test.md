# Test

## 원칙
- 브라우저 에러, warning 로그가 있으면 안 됨
- Safari, Chrome, FireFox 최신버전으로 검사할 것
- 모든 화면 단위에서 새로 고침을 해 볼 것
- 모든 화면 단위에서 뒤로가기, 앞으로가기가 정상적으로 작동하는지 확인
- Slow 3G 환경에서 component mount 후 곧바로 unmount 시도해 볼 것

### 로그인
- [ ] 42Oauth 동작 여부 확인
- [ ] Session ID 없이 mainpage나 서비스에 접근 시 잘 막아지는지 확인 (403 error handling)
- [ ] 2차 인증이 잘 작동하는지 확인
### MainPage
- [ ] 전적, 채팅, 게임, Dm 버튼이 보이고 누를 시 정상 작동
### 어드민뷰
- [ ] 유저 타입이 어드민일 때만 접근 가능한지 확인
- [ ] 문의하기를 통해 접수된 문의가 어드민 뷰에 잘 나타나는지 확인
- [ ] 답변 후에는 답변 완료된 문의 란으로 잘 이동하는지 확인
### 프로필
- [ ] 내 프로필과 다른 유저 프로필이 다르게 보임
- [ ] 아바타 이미지 파일을 불러와서 변경이 가능함
    - [ ] 2MB 넘는 파일은 불가
- [ ] 닉네임 수정이 가능함
    - [ ] 본인 이름으로 변경 불가
    - [ ] DB에 이미 있는 이름으로 변경 불가
    - [ ] 변경 도중 다른 곳을 클릭하면 변경 취소
    - [ ] 변경 도중 ESC를 누르면 변경 취소
    - [ ] 변경 후 메인페이지 NavBar에 보이는 닉네임 즉시 변경
    - [ ] 변경 도중 모달을 끄면 변경 취소
- [ ] 전적정보가 정확하게 반영돼서 보여야 함
- [ ] 상세전적보기를 누르면 자동으로 프로필 유저의 전적정보 결과가 나와야 함
- [ ] 2단계 인증을 켜면 다시 로그인할 때 2단계 인증을 요구받아야 함
- [ ] 친구 관리를 누르면 친구관리 화면이 떠야 함
- [ ] 로그아웃을 누르면 로그인 화면으로 가고 쿠키가 제거돼야 함

<다른 유저의 프로필>
- [ ] 아바타 이미지 수정 불가
- [ ] 닉네임 수정 불가
- [ ] 상세 전적보기가 동일하게 작동해야 함
- [ ] 전적정보가 정확하게 반영돼서 보여야 함
- [ ] 친구 삭제를 누르면 친구에서 삭제되고 버튼이 친구 추가로 변경돼야 함
- [ ] 친구 추가를 누르면 친구에 추가되고 버튼이 친구 삭제로 변경돼야 함
- [ ] 메세지 보내기를 누르면 DM이 활성화됨
- [ ] 대전 신청을 하는 경우 대전 신청 대기에 들어가고 초대가 DM으로 보내짐
- [ ] 친구 차단을 누르면 친구목록에서 제거되고 차단목록에 추가됨, 버튼이 차단해제로 변경돼야 함

### 전적
- [ ] 래더 랭킹이 없을 시 정상 작동하는지 확인
- [ ] 검색 결과가 없을 시 정상 작동하는지 확인
- [ ] 점수, 사진, 닉네임, 시간, 매치 타입, 맵 타입 일치하는지 확인
### 채팅
- [ ] 전체, 공개방, 비공개방 목록에 따라 대화방 목록이 보여야 함
- [ ] 대화방 타이틀의 일부를 검색해서 불러올 수 있음
- [ ] 빈 문자열을 입력할 시 전체 목록을 불러옴
- [ ] 대화방 목록을 누르면 대화방 내부로 입장함
    - [ ] 공개방인 경우 바로 입장
    - [ ] 입장시 입장하셨습니다 메세지 보임
    - [ ] 대화방 참여중인 유저 목록 정상 작동
        - [ ] owner, admin 로고가 보여야 함
        - [ ] 참여 목록 중에 본인은 다른 색으로 보임
        - [ ] 참여자 숫자가 목록에 맞게 업데이트 됨
        - [ ] 컨텍스트 메뉴로 대화방에서 일반 유저는 프로필보기, DM보내기, 대전신청 선택 가능
        - [ ] admin인 경우 추가로 차단하기, 강퇴하기 보임
        - [ ] owner인 경우 추가로 관리자로 임명 보임
        - [ ] owner가 관리자를 클릭한 경우 관리자 해임할 수 있음
        - [ ] 본인을 클릭하면 본인 프로필 보기가 가능(수정 불가함 readonly)
        - [x] owner가 나가면 ???? 누가 owner가 되더라?????
- [ ] owner가 대화방 설정을 바꿨을 때 잘 적용되는지
- [ ] owner가 admin을 지정할 수 있고 admin이 된 사람은 권한을 잘 갖는지
- [ ] admin이 mute, ban 할 수 있어야 한다
- [ ] admin인 경우 컨텍스트 메뉴가 상대방의 지위에 따라 다르게 보여야 한다
    - [ ] 상대가 admin인 경우 mute, ban 할 수 있음
    - [ ] 상대가 owner인 경우 권한 없음
- [ ] ban 당한 유저는 대화방에서 나가지고 재입장이 불가함
- [ ] mute 당한 유저는 일정 시간동안 대화를 할 수 없음
- [ ] 대화방에서 컨텍스트 메뉴로 다른 사람의 프로필을 열람할 수 있음
- [ ] 밴 당한 사람은 대화방에 재입장 불가함
- [ ] mute 당한 사람은 일정 시간동안 대화를 할 수 없음
- [ ] mute 해제를 당하면 말할 수 있음
### 게임
- [ ] 매치메이킹 큐에 들어가서 대기하고 있으면 다른 사람과 자동으로 매칭돼야 함
- [ ] 대전 신청을 할 때 맵을 정할 수 있음
- [ ] 다른 사람의 게임을 관전할 수 있음
### DM
- [ ] 차단한 사람한테 DM이 오면 안 됨
- [ ] Dm Room List 가 시간 기준 내림차순 정렬되어 있는지 확인
- [ ] Dm 전송이 잘 되는지 확인
- [ ] Dm 수신이 잘 되는지 확인
- [ ] Dm이 닫혀있는 상태로 Dm이 오면 Dm icon에 느낌표 표시가 있어야 함
- [ ] Dm 버튼은 모달이 켜져있더라도 항상 클릭 가능해야 함
### 초대
<게임 대전 신청>
- [ ] 대화방 내부에서 대전신청을 할 수 있음
- [ ] Navbar에서 대전신청을 할 수 있음
- [ ] 대전신청을 하고 맵을 선정할 수 있음
- [ ] 대전신청을 하면 DM으로 초대장이 전송됨
- [ ] 상대방이 거절을 누르면 대전신청자에게 실패했다고 알림
- [ ] 상대방이 승낙하면 게임이 바로 진행됨
<대화방 초대 신청>
- [ ] 대화방 내부에서 아무나 초대를 할 수 있음
- [ ] 초대할 목록 처음에 친구목록을 보여주는데 온라인만 초대 가능함
- [ ] 검색을 하면 결과가 적절하게 나옴
- [ ] 초대하기를 누르면 상대방에게 DM으로 초대가 전송됨
- [ ] 승인을 누르면 대화방 내부로 입장함
- [ ] 거절을 누르면 DM이 제거됨

### 친구관리
- [ ] 프로필에서 친구관리를 들어와서 친구목록이 떠야 함
- [ ] 친구 목록이 없는 경우 친구 없음이 보여야 함
- [ ] 친구 목록에서 친구 삭제, 친구 차단이 가능함
- [ ] 삭제 및 차단을 하면 목록에서 즉시 사라짐
- [ ] 차단 목록을 볼 수 있음, 결과가 없으면 결과 없음이 보임
- [ ] 차단 목록에서 차단해제를 할 수 있음
- [ ] 차단 목록이나 친구 목록에서 수정을 한 후 목록이 없으면 즉시 결과없음이 보여야 함
### Navbar
- [ ] Navbar에서 친구 목록을 볼 수 있음
    - [ ] 친구의 현재 on,off,game 상태를 실시간으로 볼 수 있음
    - [ ] 친구 목록을 클릭하면 컨텍스트 메뉴가 나타남
        - [ ] 프로필 보기를 할 수 있음
        - [ ] DM을 보낼 수 있음
        - [ ] 친구 삭제, 친구 차단을 할 수 있음
        - [ ] 친구 삭제, 차단을 하면 즉시 목록에서 사라짐
        - [ ] 삭제, 차단한 친구를 다시 추가하면 에러를 보여줌
- [ ] 친구를 검색해서 추가할 수 있음
    - [ ] 차단한 친구는 추가할 수 없음
    - [ ] 이미 추가한 친구를 친구 추가할 수 없음
    - [ ] 자기 자신을 친구로 추가할 수 없음
    - [ ] 존재하지 않는 유저를 친구 추가할 수 없음
    - [ ] ESC를 누르면 친구추가 컴포넌트가 사라짐
- [ ] 전적 컴포넌트를 열 수 있음
- [ ] 채팅 컴포넌트를 열 수 있음
- [ ] 게임하기 컴포넌트를 열 수 있음
- [ ] 문의하기 컴포넌트를 열 수 있음